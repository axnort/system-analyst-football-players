<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ player.Name }}</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/player.css') }}">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  {% set gender_selected = gender_selected or request.args.get('gender','putra') %}
  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">
        <img src="{{ url_for('static', filename='aset/Logo.jpg') }}" alt="Logo"/>
        <span>Superstar Fest</span>
      </div>
      <button class="hamburger" aria-label="Toggle menu" aria-expanded="false" aria-controls="main-menu">☰</button>
      <ul id="main-menu" class="nav-menu">
        <li><a href="{{ url_for('urls.home') }}" class="{{ 'active' if request.path == url_for('urls.home') else '' }}">Home</a></li>
        <li><a href="{{ url_for('urls.clubs', gender=gender_selected) }}" class="{{ 'active' if request.path.startswith('/clubs') else '' }}">Performance Player</a></li>
        <li><a href="{{ url_for('urls.pin_admin', gender=gender_selected) }}" class="{{ 'active' if request.path.startswith('/pin_admin') else '' }}">Compare Player</a></li>
      </ul>
    </div>
  </nav>

  <div class="page-wrap">
    <div class="toolbar">
      <a class="back-btn" href="javascript:history.back()"><span class="chev">‹</span> Back</a>
    </div>

    <h1 class="page-title">Performance Player</h1>

    <div class="container">
      {% if player %}
      <section class="top-grid">
        <!-- LEFT -->
        <div class="card info-card">
          <h3 class="card-title">PLAYER INFO</h3>
          <div class="info-top">
            <img src="{{ player.Photo }}" alt="player" class="info-photo"
                onerror="this.onerror=null;this.src='{{ url_for('static', filename='Images/avatar-default.png') }}';" />
            <div class="meta-grid">
              <div class="item"><span class="label">Name</span><span class="value">{{ player.Name }}</span></div>
              <div class="item"><span class="label">Club</span><span class="value">{{ player.Club }}</span></div>
              {% if player.Position %}<div class="item"><span class="label">Position</span><span class="value">{{ player.Position }}</span></div>{% endif %}
              {% if player.Height %}<div class="item"><span class="label">Height</span><span class="value">{{ player.Height }} cm</span></div>{% endif %}
              {% if player.Weight %}<div class="item"><span class="label">Weight</span><span class="value">{{ player.Weight }} kg</span></div>{% endif %}
              {% if player.Category %}<div class="item"><span class="label">Category</span><span class="value">{{ player.Category }}</span></div>{% endif %}
            </div>
          </div>
          <div class="radar-wrap">
            <canvas id="perfRadar"></canvas>
          </div>
        </div>

        <!-- RIGHT -->
        <div class="card attr-card">
          <h3 class="card-title center">ATTRIBUTE</h3>
          <div class="attr-columns">
            <div class="attr-panel">
              <div class="attr-heading">Physical</div>
              <div class="attr-list">
                <div class="attr-item"><span class="label">Acceleration</span><span class="value">{{ player.Acceleration }}</span></div>
                <div class="attr-item"><span class="label">Agility</span><span class="value">{{ player.Agility }}</span></div>
                <div class="attr-item"><span class="label">Balance</span><span class="value">{{ player.Balance }}</span></div>
                <div class="attr-item"><span class="label">Jumping Reach</span><span class="value">{{ player.JumpingReach }}</span></div>
                <div class="attr-item"><span class="label">Natural Fitness</span><span class="value">{{ player.NaturalFitness }}</span></div>
                <div class="attr-item"><span class="label">Pace</span><span class="value">{{ player.Pace }}</span></div>
                <div class="attr-item"><span class="label">Stamina</span><span class="value">{{ player.Stamina }}</span></div>
                <div class="attr-item"><span class="label">Strength</span><span class="value">{{ player.Strength }}</span></div>
                <div class="attr-item"><span class="label">Goalkeeper Ability</span><span class="value">{{ player.GoalkeeperAbility }}</span></div>
                <div class="attr-item"><span class="label">Condition</span><span class="value">{{ player.ConditionPct }}</span></div>
                <div class="attr-item"><span class="label">Preferred Foot</span><span class="value">{{ player.PreferredFoot }}</span></div>
              </div>
            </div>
            <div class="attr-panel">
              <div class="attr-heading">Technical</div>
              <div class="attr-list">
                <div class="attr-item"><span class="label">Dribbling</span><span class="value">{{ player.Dribbling }}</span></div>
                <div class="attr-item"><span class="label">Passing</span><span class="value">{{ player.Passing }}</span></div>
                <div class="attr-item"><span class="label">Corners</span><span class="value">{{ player.Corners }}</span></div>
                <div class="attr-item"><span class="label">Crossing</span><span class="value">{{ player.Crossing }}</span></div>
                <div class="attr-item"><span class="label">First Touch</span><span class="value">{{ player.FirstTouch }}</span></div>
                <div class="attr-item"><span class="label">Finishing</span><span class="value">{{ player.Finishing }}</span></div>
                <div class="attr-item"><span class="label">Penalty Taking</span><span class="value">{{ player.PenaltyTaking }}</span></div>
                <div class="attr-item"><span class="label">Free Kick</span><span class="value">{{ player.FreeKickTaking }}</span></div>
                <div class="attr-item"><span class="label">Long Shots</span><span class="value">{{ player.LongShots }}</span></div>
                <div class="attr-item"><span class="label">Long Throws</span><span class="value">{{ player.LongThrows }}</span></div>
                <div class="attr-item"><span class="label">Heading</span><span class="value">{{ player.Heading }}</span></div>
                <div class="attr-item"><span class="label">Marking</span><span class="value">{{ player.Marking }}</span></div>
                <div class="attr-item"><span class="label">Tackling</span><span class="value">{{ player.Trackling }}</span></div>
                <div class="attr-item"><span class="label">Technique</span><span class="value">{{ player.Technique }}</span></div>
              </div>
            </div>
            <div class="attr-panel">
              <div class="attr-heading">Mental</div>
              <div class="attr-list">
                <div class="attr-item"><span class="label">Aggression</span><span class="value">{{ player.Aggression }}</span></div>
                <div class="attr-item"><span class="label">Anticipation</span><span class="value">{{ player.Anticipation }}</span></div>
                <div class="attr-item"><span class="label">Bravery</span><span class="value">{{ player.Bravery }}</span></div>
                <div class="attr-item"><span class="label">Composure</span><span class="value">{{ player.Composure }}</span></div>
                <div class="attr-item"><span class="label">Concentration</span><span class="value">{{ player.Concentration }}</span></div>
                <div class="attr-item"><span class="label">Decisions</span><span class="value">{{ player.Decisions }}</span></div>
                <div class="attr-item"><span class="label">Determination</span><span class="value">{{ player.Determination }}</span></div>
                <div class="attr-item"><span class="label">Flair</span><span class="value">{{ player.Flair }}</span></div>
                <div class="attr-item"><span class="label">Leadership</span><span class="value">{{ player.Leadership }}</span></div>
                <div class="attr-item"><span class="label">Off the ball</span><span class="value">{{ player.OffTheBall }}</span></div>
                <div class="attr-item"><span class="label">Positioning</span><span class="value">{{ player.Position }}</span></div>
                <div class="attr-item"><span class="label">Teamwork</span><span class="value">{{ player.Teamwork }}</span></div>
                <div class="attr-item"><span class="label">Vision</span><span class="value">{{ player.Vision }}</span></div>
                <div class="attr-item"><span class="label">Work Rate</span><span class="value">{{ player.WorkRate }}</span></div>
              </div>
            </div>
          </div>
        </div>
      </section>
      {% else %}
        <p style="color:#e5e7eb">No player data available.</p>
      {% endif %}
    </div>
  </div>

  <script>const PLAYER_JSON = {{ player | tojson }};</script>
  <script src="{{ url_for('static', filename='js/player.js') }}"></script>
</body>
</html>
